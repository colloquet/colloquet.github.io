<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns = "http://www.w3.org/1999/xhtml">
<head>
	<title>Grid</title>
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<style type="text/css">

	body {
	  background: #49a083;
	}

	h1 {
		color: #fff;
		font-weight: bold;
	}

	input, input:focus {
		color: #49a083;
	}

	/*----------bootstrap override----------*/
	.form-control, .panel-body {
		color: #49a083;
	}
	.panel {
		border: none;
	}
	.panel-body {
		text-align: center;
	}
	/*----------*----------*/


	#rotate-btn, #generate-btn {
		font-weight: bold;
		color: #49a083;
	}

	.grid-table {
		position: absolute;
		top: 50%;
		left: 50%;
		-webkit-transition: -webkit-transform .5s ease;
	  transition: transform .5s ease;
	}
	/*to center the grid table using transform*/
	.center {
		-webkit-transform: translate(-50%,-50%);
		transform: translate(-50%,-50%);
	}
	/*apply rotation when rotate button is clicked*/
	.rotate {
		transform: translate(-50%,-50%) rotate(45deg);
		-webkit-transform: translate(-50%,-50%) rotate(45deg);
	}

	.grid, .grid-inverse {
	  position: relative;
	  display: inline-block;
	  width: 40px;
	  height: 40px;
	  background-color: white;
	  border-radius: 20px;
	  -webkit-animation: expand .5s;
	  animation: expand .5s;
	}

	.grid {
		background-color: white;
	}

	.grid-inverse {
	  background-color: #ccc;
	}
	/*animation for the grid to pop out*/
	@-webkit-keyframes expand {
		0%{ -webkit-transform: scale(0); transform: scale(0);}
		100%{ -webkit-transform: scale(1); transform: scale(1);}
	}@keyframes expand {
		0%{ -webkit-transform: scale(0); transform: scale(0);}
		100%{ -webkit-transform: scale(1); transform: scale(1);}
	}
	</style>
</head>
<body>
	<div class="container">
		<h1 align="center">THE GRAYSCALE CHESS BOARD</h1>
		<div class="row">
			<div class="col-md-4">
				<div class="panel panel-default">
					<div class="panel-body">
						<p>HTML</p>
						<p>Make things show up as they should be.</p>
					</div>
				</div>
			</div>
			<div class="col-md-4">
				<div class="panel panel-default">
					<div class="panel-body">
						<p>CSS</p>
						<p>Make things look beautiful in good browsers.</p>
					</div>
				</div>
			</div>
			<div class="col-md-4">
				<div class="panel panel-default">
					<div class="panel-body">
						<p>JS</p>
						<p>Make great fancy things happen on the fly.</p>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-4 col-md-offset-4">
			<div class="input-group">
					<input type="text" id="grid-num" class="form-control" placeholder="Enter grid size">
				<div class="input-group-btn">
					<button id="generate-btn" onclick="genGrid()" class="btn btn-default">GENERATE</button>
					<button id="rotate-btn" class="btn btn-default" onclick="rotate()">ROTATE</button>
				</div>
			</div>
			<p align="center"></p>
		</div>
		<div class="grid-table center"></div>
	</div>

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script type="text/javascript">
		function genGrid() {
			// reset the table everytime user input a new number
			$(".grid-table").html(""); 
		  var gridSize = $("#grid-num").val();
		  var table = $(".grid-table");
		  // generate rows
		  for (i = 1; i <= gridSize; i++) {
		  	var row = document.createElement("div"); 
	        row.className = "grid-row"; 
	        // generate cells
	        for(var x = 1; x <= gridSize; x++){ 
	        		// if row number is even number, grid colour of odd number grid = white, even number grid = grey
	        		if (i % 2 == 0){ 
	        			if (x % 2 == 0) {
	        				var cell = document.createElement("div"); 
			            cell.className = "grid-inverse"; 
			            row.appendChild(cell); 
	        			} else {
	        				var cell = document.createElement("div"); 
			            cell.className = "grid"; 
			            row.appendChild(cell); 
	        			}
	        			// if row number is odd number, grid colour of odd number = grey, even number = white
	        		} else {
	        			if (x % 2 == 0) {
	        				var cell = document.createElement("div"); 
			            cell.className = "grid"; 
			            row.appendChild(cell); 
	        			} else {
	        				var cell = document.createElement("div"); 
			            cell.className = "grid-inverse"; 
			            row.appendChild(cell); 
	        			}
	        		}
	            
	        }
	        table.append(row); 
		  }
		};
		function rotate() {
			var table = $(".grid-table");
			// if table does not already have the class rotate, if it is not rotated, rotate it
			if (!table.hasClass("rotate")) {
				table.removeClass("center");
				table.addClass("rotate");
			// else, put it back to normal state
			} else {
				table.removeClass("rotate");
				table.addClass("center");
			}
			
		}
	</script>
</body>
</html>