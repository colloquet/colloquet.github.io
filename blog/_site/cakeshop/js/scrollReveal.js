window.scrollReveal=function(e){"use strict";function r(t){this.docElem=e.document.documentElement;this.options=this.extend(this.defaults,t);this.styleBank={};if(this.options.init==true)this.init()}var t=1;var n=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}();r.prototype={defaults:{after:"0s",enter:"bottom",move:"24px",over:"0.66s",easing:"ease-in-out",opacity:0,viewportFactor:.33,reset:false,init:true},init:function(){this.scrolled=false;var r=this;this.elems=Array.prototype.slice.call(this.docElem.querySelectorAll("[data-scroll-reveal]"));this.elems.forEach(function(e,n){var i=e.getAttribute("data-scroll-reveal-id");if(!i){i=t++;e.setAttribute("data-scroll-reveal-id",i)}if(!r.styleBank[i]){r.styleBank[i]=e.getAttribute("style")}r.update(e)});var i=function(e){if(!r.scrolled){r.scrolled=true;n(function(){r._scrollPage()})}};var s=function(){function e(){r._scrollPage();r.resizeTimeout=null}if(r.resizeTimeout){clearTimeout(r.resizeTimeout)}r.resizeTimeout=setTimeout(e,200)};e.addEventListener("scroll",i,false);e.addEventListener("resize",s,false)},_scrollPage:function(){var e=this;this.elems.forEach(function(t,n){e.update(t)});this.scrolled=false},parseLanguage:function(e){function r(e){var t=[],n=["from","the","and","then","but","with"];e.forEach(function(e,r){if(n.indexOf(e)>-1){return}t.push(e)});return t}var t=e.getAttribute("data-scroll-reveal").split(/[, ]+/),n={};t=r(t);t.forEach(function(e,r){switch(e){case"enter":n.enter=t[r+1];return;case"after":n.after=t[r+1];return;case"wait":n.after=t[r+1];return;case"move":n.move=t[r+1];return;case"ease":n.move=t[r+1];n.ease="ease";return;case"ease-in":n.move=t[r+1];n.easing="ease-in";return;case"ease-in-out":n.move=t[r+1];n.easing="ease-in-out";return;case"ease-out":n.move=t[r+1];n.easing="ease-out";return;case"over":n.over=t[r+1];return;default:return}});return n},update:function(e){var t=this.genCSS(e);var n=this.styleBank[e.getAttribute("data-scroll-reveal-id")];if(n!=null)n+=";";else n="";if(!e.getAttribute("data-scroll-reveal-initialized")){e.setAttribute("style",n+t.initial);e.setAttribute("data-scroll-reveal-initialized",true)}if(!this.isElementInViewport(e,this.options.viewportFactor)){if(this.options.reset){e.setAttribute("style",n+t.initial+t.reset)}return}if(e.getAttribute("data-scroll-reveal-complete"))return;if(this.isElementInViewport(e,this.options.viewportFactor)){e.setAttribute("style",n+t.target+t.transition);if(!this.options.reset){setTimeout(function(){if(n!=""){e.setAttribute("style",n)}else{e.removeAttribute("style")}e.setAttribute("data-scroll-reveal-complete",true)},t.totalDuration)}return}},genCSS:function(e){var t=this.parseLanguage(e),n,r;if(t.enter){if(t.enter=="top"||t.enter=="bottom"){n=t.enter;r="y"}if(t.enter=="left"||t.enter=="right"){n=t.enter;r="x"}}else{if(this.options.enter=="top"||this.options.enter=="bottom"){n=this.options.enter;r="y"}if(this.options.enter=="left"||this.options.enter=="right"){n=this.options.enter;r="x"}}if(n=="top"||n=="left"){if(t.move){t.move="-"+t.move}else{t.move="-"+this.options.move}}var i=t.move||this.options.move,s=t.over||this.options.over,o=t.after||this.options.after,u=t.easing||this.options.easing,a=t.opacity||this.options.opacity;var f="-webkit-transition: -webkit-transform "+s+" "+u+" "+o+",  opacity "+s+" "+u+" "+o+";"+"transition: transform "+s+" "+u+" "+o+", opacity "+s+" "+u+" "+o+";"+"-webkit-perspective: 1000;"+"-webkit-backface-visibility: hidden;";var l="-webkit-transition: -webkit-transform "+s+" "+u+" 0s,  opacity "+s+" "+u+" "+o+";"+"transition: transform "+s+" "+u+" 0s,  opacity "+s+" "+u+" "+o+";"+"-webkit-perspective: 1000;"+"-webkit-backface-visibility: hidden;";var c="-webkit-transform: translate"+r+"("+i+");"+"transform: translate"+r+"("+i+");"+"opacity: "+a+";";var h="-webkit-transform: translate"+r+"(0);"+"transform: translate"+r+"(0);"+"opacity: 1;";return{transition:f,initial:c,target:h,reset:l,totalDuration:(parseFloat(s)+parseFloat(o))*1e3}},getViewportH:function(){var t=this.docElem["clientHeight"],n=e["innerHeight"];return t<n?n:t},getOffset:function(e){var t=0,n=0;do{if(!isNaN(e.offsetTop)){t+=e.offsetTop}if(!isNaN(e.offsetLeft)){n+=e.offsetLeft}}while(e=e.offsetParent);return{top:t,left:n}},isElementInViewport:function(t,n){var r=e.pageYOffset,i=r+this.getViewportH(),s=t.offsetHeight,o=this.getOffset(t).top,u=o+s,n=n||0;return o+s*n<=i&&u>=r||(t.currentStyle?t.currentStyle:e.getComputedStyle(t,null)).position=="fixed"},extend:function(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return e}};return r}(window)