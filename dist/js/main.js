var vm=new Vue({el:"#app",data:{shouldShowProjectOverlay:!1,isAnimating:!1,scrollPos:0,isModalOpened:!1,backgroundColor:"#3a4b60",chosenProject:{},chosenID:"",projects:[{title:"Russia.com",slug:"russia",color:"#0e2163",cssClass:"project-russia",url:"http://russia.com/",thumbnail:"images/screenshot-russia.png",description:"Coming soon",builtWith:[{name:"WordPress",url:"https://wordpress.org/"},{name:"Vue.js",url:"http://vuejs.org/"},{name:"uikit",url:"http://getuikit.com/"}]},{title:"Eqibeat",slug:"eqibeat",color:"#2f3c5d",cssClass:"project-eqibeat",url:"http://eqibeat.com/",thumbnail:"images/screenshot-eqibeat.png",description:"Coming soon",builtWith:[{name:"WordPress",url:"https://wordpress.org/"},{name:"AngularJS",url:"https://angularjs.org/"},{name:"uikit",url:"http://getuikit.com/"}]},{title:"Work Well Done",slug:"work-well-done",color:"#006564",cssClass:"project-cx",url:"http://workwelldone.cathaypacific.com",thumbnail:"images/screenshot-wwd.png",description:'<p>Work Well Done is a relatively simple project. The purpose of the site is to allow Cathay Pacific staff to write thank you card to each other.</p><p>For a better user experience, I have built the wall of cards using Vue.js. By using a reactive JS library, I can make this part of the website interactive. Users are able to fetch more cards or search for cards without the need of reloading the whole page. The API that fetches the cards are built with <a href="https://wordpress.org/plugins/rest-api/" target="_blank">WP REST API</a> plugin, which conveniently turns your WordPress database into JSON api.</p><p>I have decided to use Vue.js because it is lightweight, fast, well documented and easy to use. You can just mount it to your HTML template and it just works. It plays well with other JS libraries such as jQuery and GSAP. It is perfect if you only want a part of the website interactive. I would use it again in future projects.</p><p>Other than the website, I have also made email templates that was sent out to all Cathay Pacific staff. The template is made by Foundation Email, which saves me from writing a lot of tables.</p><p>Overall, I enjoyed doing project a lot. It is very satisfying to see Cathay Pacific staff actually using the system I built to write thank you card to each other.</p>',builtWith:[{name:"WordPress",url:"https://wordpress.org/"},{name:"Vue.js",url:"http://vuejs.org/"},{name:"uikit",url:"http://getuikit.com/"}]},{title:"Cooltech Global",slug:"cooltech-global",color:"#414d5c",cssClass:"project-cooltech",url:"http://cooltechglobal.com",thumbnail:"images/screenshot-cooltech.png",description:'<p>Cooltech Global was a fun website to work on. The most challenging part of the website was the <a href="http://cooltechglobal.com/diesel/#?hz=50&brand=cummins" target="_blank">Genset table</a>. It should be able to filter Gensets, and the URL should reflect those filter options making it sharable to other users.</p><p>I tackled the problem using the <a href="http://lorenzofox3.github.io/smart-table-website/" target="_blank">SmartTable</a> module for AngularJS. The API for Genset data was provided by <a href="https://wordpress.org/plugins/rest-api/" target="_blank">WP REST API</a>.</p><p>The generator outline animation on landing page was done in AfterEffect, exported to JSON and displayed via <a href="https://github.com/bodymovin/bodymovin" target="_blank">bodymovin</a>.</p>',builtWith:[{name:"WordPress",url:"https://wordpress.org/"},{name:"AngularJS",url:"https://angularjs.org/"},{name:"bodymovin",url:"https://github.com/bodymovin/bodymovin"},{name:"uikit",url:"http://getuikit.com/"}]},{title:"OpenPort",slug:"openport",color:"#3a4b60",cssClass:"project-openport",url:"http://www.openport.com",thumbnail:"images/screenshot-openport.png",description:"Coming Soon"},{title:"Quantifeed",slug:"quantifeed",color:"#f5f9f9",cssClass:"project-quantifeed",url:"https://www.quantifeed.com/",thumbnail:"images/screenshot-quantifeed.png",description:"Coming Soon"},{title:"onActivity",slug:"onactivity",color:"#2c3657",cssClass:"project-onactivity",url:"http://onactivity.com",thumbnail:"images/screenshot-onactivity.png",description:"Coming Soon",builtWith:[{name:"WordPress",url:"https://wordpress.org/"},{name:"smoothState.js",url:"http://miguel-perez.github.io/smoothState.js/"},{name:"uikit",url:"http://getuikit.com/"}]},{title:"Sterling Apparel",slug:"sterling-apparel",color:"#fff",cssClass:"project-sterling",url:"http://www.sterlingapparel.com.hk",thumbnail:"images/screenshot-sterling.png",description:"Coming Soon",builtWith:[{name:"WordPress",url:"https://wordpress.org/"},{name:"smoothState.js",url:"http://miguel-perez.github.io/smoothState.js/"},{name:"uikit",url:"http://getuikit.com/"}]},{title:"Jachin Capital",slug:"jachin-capital",color:"#dfe6ea",cssClass:"project-jachin-capital",url:"https://www.jachincapital.com/",thumbnail:"images/screenshot-jachin.png",description:"Coming Soon"},{title:"The Edge",slug:"the-edge",color:"#e31e26",cssClass:"project-theedge",url:"http://theedge.com.hk/",thumbnail:"images/screenshot-theedge.png",description:"Coming Soon"},{title:"Big Bloom",slug:"big-bloom",color:"#fff",cssClass:"project-bigbloom",url:"http://bigbloom.hk",thumbnail:"images/screenshot-bigbloom.png",description:"Coming Soon"}]},methods:{onProjectClick:function(e){History.pushState({project:e},e.title,"?project="+e.slug)},openProjectModal:function(e){ga("send","event","Projects","open",e.title);var t=this;if(!t.shouldShowProjectOverlay&&!t.isAnimating){t.isAnimating=!0,t.chosenProject=e,t.chosenID="project-"+e.slug,t.scrollPos=window.pageYOffset;var o=document.documentElement,i=document.body,s=window.innerWidth,a=window.innerHeight,n=(document.getElementById("fullscreen-project-overlay"),document.getElementsByClassName("overflow-container"),document.getElementById(t.chosenID)),l=n.getBoundingClientRect(),r=l.top,c=l.left,h=l.width,p=l.height,u=document.createElement("div");o.style.marginTop=-1*t.scrollPos+"px",i.style.position="fixed",i.style.width=s+"px",i.style.height=a+"px",u.style.position="fixed",u.style.background=t.chosenProject.color||t.backgroundColor,u.style.top=r+"px",u.style.left=c+"px",u.style.width=h+"px",u.style.height=p+"px",u.style.opacity=0,u.style.zIndex=5,document.body.appendChild(u);var d=new TimelineLite({onComplete:function(){t.shouldShowProjectOverlay=!0,u.parentNode.removeChild(u),TweenMax.staggerFromTo(".animate",.5,{y:"20px",opacity:0},{y:0,opacity:1,onComplete:function(){t.isAnimating=!1,t.isModalOpened=!0}},.1)}});d.to("#"+t.chosenID+" .uk-overlay-panel h3",.3,{y:"+=100%",opacity:0}),d.to(u,.3,{opacity:1},"-=0.3"),768>s?d.to(u,.3,{top:0,left:0,width:"100%",height:"100%"}):(d.to(u,.4,{top:0,height:"100%"},"-=0.1"),d.to(u,.3,{left:0,width:"100%"}))}},handleCloseProjectModal:function(){console.log("asd"),History.pushState(null,null,"/")},closeProjectModal:function(){var e=this;if(e.shouldShowProjectOverlay&&!e.isAnimating){e.isAnimating=!0;var t=document.documentElement,o=document.body;t.removeAttribute("style"),o.removeAttribute("style"),window.scrollTo(0,e.scrollPos);var i=document.getElementById(e.chosenID),s=document.getElementsByClassName("overflow-container"),a=i.getBoundingClientRect(),n=a.top,l=a.left,r=a.width,c=a.height,h=document.createElement("div");h.style.position="fixed",h.style.background=e.chosenProject.color||e.backgroundColor,h.style.top=0,h.style.left=0,h.style.width="100%",h.style.height="100%",h.style.zIndex=5,document.body.appendChild(h),TweenMax.to(".animate",.5,{y:20,opacity:0,onComplete:function(){s[0].scrollTop=0,e.shouldShowProjectOverlay=!1;var t=new TimelineLite({onComplete:function(){h.parentNode.removeChild(h),e.isAnimating=!1,e.isModalOpened=!1,e.chosenProject={}}});t.to(h,.3,{top:n+"px",left:l+"px",width:r+"px",height:c+"px"}),t.to(h,.3,{opacity:0}),t.to("#"+e.chosenID+" .uk-overlay-panel h3",.3,{y:"-=100%",opacity:1},"-=0.4")}})}}},mounted:function(){var e=this;document.onkeydown=function(t){t=t||window.event;var o=!1;o="key"in t?"Escape"==t.key:27==t.keyCode,o&&e.isModalOpened&&e.handleCloseProjectModal()},History.Adapter.bind(window,"statechange",function(){var t=History.getState();void 0===t.data.project?e.closeProjectModal():e.openProjectModal(t.data.project)}),History.replaceState(null,"Colloque Tsui","/")}});"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1);