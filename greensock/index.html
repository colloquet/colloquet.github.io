<!DOCTYPE html>
<html>
<head>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.13.2/plugins/ScrollToPlugin.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script type="text/javascript" src="jquery.scrollmagic.min.js"></script>
	<link rel="stylesheet" href="http://yui.yahooapis.com/combo?pure/0.5.0/base-min.css&pure/0.5.0/grids-min.css&pure/0.5.0/grids-responsive-min.css">
	<script type="text/javascript">
		$(document).ready(function($) {
			// init controller
			var h = window.innerHeight;
			var controller = new ScrollMagic({
			    globalSceneOptions: {
			        triggerHook: "onLeave"
			    }
			});
			var counter = { var: 0 };
			var tweens = new TimelineMax()
						.add([
							TweenMax.from(".slide1 h1", 2, {opacity: 0})
							])
						.add([
							TweenMax.to(".slide2", 1, {transform: "translateX(0)"}),
							TweenMax.to(".slide2 h1", 2, {opacity: 1, scale: 1, delay: 1})
							])
						// .add(TweenMax.to(".slide2 h1", 2, {opacity: 1, scale: 1}))
						.add([
							TweenMax.to(".slide2", 1, {left: '100%'}),
							TweenMax.to(".slide3", 1, {transform: "translateX(0)"})
							])
						.add(TweenMax.to(counter, 4, {
							      var: 100, 
							      onUpdate: function () {
							          $('#projectNum').html(Math.ceil(counter.var));
							      },
							      ease:Strong.easeOut
							  }))
						.add([
							TweenMax.to(".slide4", 1, {transform: "translateX(0)"}),
							TweenMax.from(".slide4 h1", 2, {opacity: 0, transformOrigin: 'center top', rotationX:-90, delay: 1, ease:Elastic.easeOut})
							])
						.add(TweenLite.to(window, 1, {scrollTo:{y:h}, ease:Power2.easeOut}))
						.add(TweenMax.staggerFrom('.projectWrapper', 2, {scale:0, ease:Elastic.easeOut}, 0.1));

			new ScrollScene({triggerElement: "section#pin", duration: 0})
							.setTween(tweens)
			                .setPin("#pin") // pins the element for a scroll distance of 100px
			                .addTo(controller); // add scene to controller
			var tween = new TimelineMax()
						.add([
							TweenMax.to(".slide0", 1, {backgroundColor: "#e6e6e6"}),
							TweenMax.staggerTo(".slide0 p", 1.5, {opacity: 1,
                       									repeat:-1, yoyo:true}, 0.2)
							]);

			// build scene
			var scene = new ScrollScene({triggerElement: "body"})
							.setTween(tween)
							.addTo(controller);
		});
	</script>

	<style type="text/css">
	body,html {
		height: 100%;
		margin: 0;
		background-color: #222;
	}
	.slide h1 {
		position: relative;
		font-size: 80px;
		transform: translateY(-100%);
		top: 50%;
		text-align: center;
	}
	#pin {
		overflow: hidden;
	    width: 100%;
	    height: 100%;
	}
	.slide {
		position: absolute;
		left: 0;
		top: 0;
		height: 100%;
		width: 100%;
		overflow: hidden;
		background-size: cover;
		/*background-color: #000;*/
		
	}
	.content {
		padding: 100px 0;
		position: relative;
		float: left;
		min-height: 100vh;
		width: 100%;
		overflow: hidden;
		background-color: #fff;
		/*background-color: #000;*/
		
	}
	.slide0 p{
		position: relative;
		opacity: 0;
	}
	.slide1 {
		color: white;
		/*background-image: url(1.jpg);*/
		background-color: #222;
		/*transform: translateY(-100%);*/
	}
	.slide2 h1 {
		opacity: 0;
	}
	.slide2 {
		/*background-image: url(2.jpg);*/
		background-color: #f9f9f9;
		transform: translateX(-100%);
	}
	.slide3 {
		background-color: #eeeeee;
		transform: translateX(-100%);
	}
	.slide4 {
		/*background-image: url(3.jpg);*/
		background-color: #e6e6e6;
		transform: translateX(-100%);
		perspective: 800px;
	}
	.slide4 h1 {
		opacity: 1;
	}
	.quote {
		text-decoration: none;
		color: black;
		padding: 20px;
		border: 4px solid;
	}
	.projects {
		max-width: 1200px;
		margin: 0 auto;
	}
	.projectWrapper {
		box-sizing: border-box;
		padding: 20px;
	}
	.project img {
		width: 100%;
		height: auto;
	}
	.wrapper {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		text-align: center;
	}
	</style>
</head>
<body>
	<section id="pin" class="scroll-magic-section">
		<div class="slide slide0">
			<div class="wrapper">
				<h1>Grayscale</h1>
				<p>&#8595;</p>
				<p>&#8595;</p>
				<p>&#8595;</p>
			</div>
		</div>
		<div class="slide slide1">
			<h1>Grayscale Hong Kong</h1>
		</div>
		<div class="slide slide2">
			<h1>Get another viewpoint on Hong Kong web design</h1>
		</div>
		<div class="slide slide3">
			<h1>To date we have done <span id="projectNum">0</span> projects</h1>
		</div>
		<div class="slide slide4">
			<h1><a href="#" class="quote">Get a free quote</a></h1>
		</div>
	</section>
	<section class="content">
		<h2 align="center">Project list</h2>
		<div class="pure-g projects">
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>

		</div>
		<h2 align="center"><a href="#" class="quote">Get a free quote</a></h2>
	</section>
</body>
</html>