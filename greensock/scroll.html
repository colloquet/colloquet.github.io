<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.13.2/plugins/ScrollToPlugin.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script type="text/javascript" src="jquery.scrollmagic.min.js"></script>
	<link rel="stylesheet" href="http://yui.yahooapis.com/combo?pure/0.5.0/base-min.css&pure/0.5.0/grids-min.css&pure/0.5.0/grids-responsive-min.css">
	<script type="text/javascript">
		$(document).ready(function($) {
			// init controller for ScrollMagic, MUST!
			var controller = new ScrollMagic({
			    globalSceneOptions: {
			        triggerHook: "onLeave"
			    }
			});
			// define the screen height here for later use
			var h = window.innerHeight;
			var counter = { var: 0 }; // define counter here for later use
			// create a new timeline, can add Tweens using .add(), each .add will perform after each other
			var tweens = new TimelineMax()
						.add([
							TweenMax.from(".slide1 h1", 1, {opacity: 0}),
							TweenMax.to(".slide1", 1, {transform: "translateY(0)"})
							]) 
						.add(TweenMax.to(".slide1 img", 2, {rotation: 720, scale: 1, ease:Elastic.easeOut}))
						.add([
							TweenMax.to(".slide2", 1, {transform: "translateX(0)"}),
							TweenMax.to(".slide2 h1", 2, {opacity: 1, scale: 1, delay: 1})
							])
						.add([
							TweenMax.to(".slide2", 1, {left: '100%'}),
							TweenMax.to(".slide3", 1, {transform: "translateX(0)"})
							])
						.add(TweenMax.to(counter, 4, { //count from counter=0 to 100 in 4 seconds
							      var: 100, 
							      onUpdate: function () {
							          $('#projectNum').html(Math.ceil(counter.var)); // while its counting, update the html element
							      },
							      ease:Strong.easeOut // update number with EASE!!! COOL!
							  }))
						.add([
							TweenMax.to(".slide4", 1, {transform: "translateX(0)"}),
							TweenMax.from(".slide4 h1", 2, {opacity: 0, transformOrigin: 'center top', webkittransformOrigin: 'center top', rotationX:-90, delay: 1, ease:Elastic.easeOut})
							]);
						// .add(TweenLite.to(window, 1, {scrollTo:{y:h}, ease:Power2.easeOut}))
						// .add(TweenMax.staggerFrom('.projectWrapper', 2, {scale:0, ease:Elastic.easeOut}, 0.1));

			new ScrollScene({triggerElement: "section#pin", duration: 6000}) // define 'scene' and add to controller. MUST! 
							.setTween(tweens) // point to defined Tweens
			                .setPin("#pin") // pins the element for a scroll distance of 100px
			                .addTo(controller); // add scene to controller


			var tween = new TimelineMax()
						.add([
							TweenMax.to(".slide0", 1, {backgroundColor: "#e6e6e6"}),
							TweenMax.staggerTo(".slide0 p", 1.5, {opacity: 1,
                       									repeat:-1, yoyo:true}, 0.2)
							]);

			// build scene
			var scene = new ScrollScene({triggerElement: "body"})
							.setTween(tween)
							.addTo(controller);

			$('.project').hover(function() { //hover effect using Tween
				TweenMax.to($(this), .5, {scale: 1.2, ease:Elastic.easeOut});
			}, function() {
				TweenMax.to($(this), .2, {scale: 1});
			});
		});
	</script>

	<style type="text/css">
	body,html {
		height: 100%;
		margin: 0;
		background-color: #222;
	}
	#logo {
		height: 150px;
		width: 150px;
		-webkit-transform: scale(0);
		-moz-transform: scale(0);
		transform: scale(0);
	}
	.slide h1 {
		position: relative;
		font-size: 80px;
		-webkit-transform: translateY(-100%);
		-moz-transform: translateY(-100%);
		transform: translateY(-100%);
		top: 50%;
		text-align: center;
	}
	#pin {
		overflow: hidden;
	    width: 100%;
	    height: 100%;
	}
	.slide {
		position: absolute;
		left: 0;
		top: 0;
		height: 100%;
		width: 100%;
		overflow: hidden;
		background-size: cover;
	}
	.content {
		padding: 100px 0 200px 0;
		position: relative;
		float: left;
		min-height: 100vh;
		width: 100%;
		overflow: hidden;
		background-color: #fff;	
	}
	.slide0 p{
		position: relative;
		opacity: 0;
	}
	.slide1 {
		color: white;
		background-color: #222;
		-webkit-transform: translateY(-100%);
		-moz-transform: translateY(-100%);
		transform: translateY(-100%);
	}
	.slide2 h1 {
		opacity: 0;
	}
	.slide2 {
		background-color: #f9f9f9;
		-webkit-transform: translateX(-100%);
		-moz-transform: translateX(-100%);
		transform: translateX(-100%);
	}
	.slide3 {
		background-color: #eeeeee;
		-webkit-transform: translateX(-100%);
		-moz-transform: translateX(-100%);
		transform: translateX(-100%);
	}
	.slide4 {
		background-color: #e6e6e6;
		-webkit-transform: translateX(-100%);
		-moz-transform: translateX(-100%);
		transform: translateX(-100%);
		-webkit-perspective: 800px;
		-moz-perspective: 800px;
		perspective: 800px;
	}
	.slide4 h1 {
		opacity: 1;
	}
	.quote {
		text-decoration: none;
		color: black;
		padding: 20px;
		border: 4px solid;
		transition: all .3s ease;
	}
	.quote:hover {
		text-decoration: none;
		color: white;
		background: black;
		border-color: black;
	}
	.projects {
		max-width: 1200px;
		margin: 0 auto;
	}
	.projectWrapper {
		box-sizing: border-box;
		padding: 20px;
	}
	.project img {
		width: 100%;
		height: auto;
	}
	.wrapper {
		position: absolute;
		top: 50%;
		left: 50%;
		-webkit-transform: translate(-50%, -50%);
		-moz-transform: translate(-50%, -50%);
		transform: translate(-50%, -50%);
		text-align: center;
	}
	.footer {
		position: absolute;
		background-color: #222;
		width: 100%;
		text-align: center;
		padding: 20px 0;
		color: gray;
		bottom: 0;
	}
	</style>
</head>
<body>
	
	<section id="pin" class="scroll-magic-section">
		<div class="slide slide0">
			<div class="wrapper">
				<h1>Grayscale</h1>
				<p>&#8595;</p>
				<p>&#8595;</p>
				<p>&#8595;</p>
			</div>
		</div>
		<div class="slide slide1">
			<h1><img src="http://grayscale.com.hk/assets/images/logo-122px.png" alt="" id="logo"><br>Grayscale Hong Kong</h1>
		</div>
		<div class="slide slide2">
			<h1>Get another viewpoint on Hong Kong web design</h1>
		</div>
		<div class="slide slide3">
			<h1>To date we have done <span id="projectNum">0</span> projects</h1>
		</div>
		<div class="slide slide4">
			<h1><a href="#" class="quote">Get a free quote</a></h1>
		</div>
	</section>
	<section class="content">
		<h1 align="center">Check out our projects</h1>
		<div class="pure-g projects">
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
			<div class="pure-u-1 pure-u-md-1-3 projectWrapper">
				<div class="project"><img src="http://placehold.it/300x300" alt=""></div>
			</div>
		</div>
		<h2 align="center"><a href="#" class="quote">Get a free quote</a></h2>
		<div class="footer">
			<p>Grayscale Web Design 2014</p>
		</div>
	</section>
</body>
</html>